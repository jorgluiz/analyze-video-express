diff --git a/cookies.txt b/cookies.txt
deleted file mode 100644
index 0f31c89..0000000
--- a/cookies.txt
+++ /dev/null
@@ -1,17 +0,0 @@
-# Netscape HTTP Cookie File
-# http://curl.haxx.se/rfc/cookie_spec.html
-# This file was generated by Cookie-Editor
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1771422973	__Secure-3PSID	g.a000sQiBAWLZXT8jb2qVPWzGDD_Ysh864ygTP3MmaqfmBEv758R_nNppvY0fr8IrjzDwTGoYtgACgYKARwSARUSFQHGX2Mi0h8cnISaFCJIEp6dlXwjnRoVAUF8yKrGF-OCkkcksfo8D5pIay6-0076
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1770286670	__Secure-1PSIDTS	sidts-CjEBmiPuTdamvtnW2LtQl7LT2vS-t1OxzUpvtnaaQnMx9FMBB6SzLBIx7X-vILCRxPEaEAA
-.youtube.com	TRUE	/	TRUE	1771422973	SAPISID	RDvPNeHeFIHT7fha/Ai4A96qL7WBVsg401
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1770286958	__Secure-1PSIDCC	AKEyXzWqWAQCitq55Y8tXqwrvwppf-lo9AMBuWTEHF6Fs7eBc6QD1gMJOiaarDZD_S5siwChVA
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1771422973	SSID	AR4_S7WtzZQvAaw5W
-.youtube.com	TRUE	/	TRUE	1771422973	__Secure-1PAPISID	RDvPNeHeFIHT7fha/Ai4A96qL7WBVsg401
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1771422973	__Secure-1PSID	g.a000sQiBAWLZXT8jb2qVPWzGDD_Ysh864ygTP3MmaqfmBEv758R_o9ATp0XJIj0p-ec8gEQ2ggACgYKAUESARUSFQHGX2MiFItijV4cctELfLSX8Xc46xoVAUF8yKorB_FvPZBd8C1wIykBRSGM0076
-.youtube.com	TRUE	/	TRUE	1771422973	__Secure-3PAPISID	RDvPNeHeFIHT7fha/Ai4A96qL7WBVsg401
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1770286958	__Secure-3PSIDCC	AKEyXzUNbB0D4cWUpJ_PYBRPbEcqzkGlMlXA6vZkJrkfw-tV3DqpMAJja78fa3pTynSmMTPwlw
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1770286670	__Secure-3PSIDTS	sidts-CjEBmiPuTdamvtnW2LtQl7LT2vS-t1OxzUpvtnaaQnMx9FMBB6SzLBIx7X-vILCRxPEaEAA
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1770958851	LOGIN_INFO	AFmmF2swRAIgI5rvAd3UuWPvh8kBFQhF0Qv4rdgl6QM2jjqQwfLn8swCIDr3cApNGoA8wvF3kHnTtgXMQYk9jxXTE-SV4xNfscNF:QUQ3MjNmelV2UkZQTnpHMjlodnhKc0c1a2c2R0o5d3pobmNXbmREeHFCdlUzUExyaGFqZHdjazBvU0E0MVBqdUZMNHFRVEs2VEtCbklSa3V3VENZbV82VWFpNEFRWVBQbFdGUmRVS2tyZU1ucWxjbHJMYTFteUd6bVdjWXNwa0RkQjZtamlnWmJnUzhDdF9ocl8zY3FGMDBIVXp4ZmhKOXl3
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1743738232	NID	517=2CZHzMYtHxtqvdnwlrKjUEWk_KzYc9WmsE8kDA569djvETCSWbkThDyDiItUVp7k4RzYb5QDun_JA6omm8rqCYFue4Wtz6OK_nVYTMojTDF2kR2fYeqggc4uzPLb9JIPT4C8WOXR4gWur6AKlQPCBl3D-vnjuYhzHoV0FOqdsozwxDSb9uCFNSJlRU2SuNiPLiT6i4PGGVc5p7ycyk2d47DxSq5blmFT-wWSPOI4-jdR9TBMVGsXRN4how
-.youtube.com	TRUE	/	TRUE	1773310656	PREF	tz=America.Sao_Paulo&f5=20000&f7=140
-#HttpOnly_.youtube.com	TRUE	/	TRUE	1738837443	S	youtube_lounge_remote=-2gYgSaIl6vwLPMKb4ByQ_Or15JkzK3AI7_vAoBJIcA
\ No newline at end of file
diff --git a/src/middlewares.js b/src/middlewares.js
index 199fbff..69b1c74 100644
--- a/src/middlewares.js
+++ b/src/middlewares.js
@@ -36,20 +36,16 @@
 import ytdl from '@distube/ytdl-core';
 import fs from 'fs';
 
-// Carrega os cookies de um arquivo de texto (ou defina manualmente)
-const cookies = fs.readFileSync('cookies.txt', 'utf8');
+// Read the cookies from a JSON file
+const cookies = JSON.parse(fs.readFileSync('cookies.json'));
+
+const agent = ytdl.createAgent(cookies);
 
 export async function getVideoDuration(urlVideo) {
   try {
     // Obtém os dados do vídeo
     // Obtém as informações do vídeo passando os cookies
-    const info = await ytdl.getInfo(urlVideo, {
-      requestOptions: {
-        headers: {
-          cookie: cookies, // Passa os cookies na requisição
-        },
-      },
-    });
+    const info = await ytdl.getInfo(urlVideo, { agent })
 
     // A duração do vídeo está disponível dentro de 'formats'
     const durationInSeconds = info.videoDetails.lengthSeconds;
